cmake_minimum_required(VERSION 3.3)
set(SMF_VERSION "0.0.1")
set(CMAKE_EXPORT_COMPILE_COMMANDS 1)
set(CMAKE_EXE_LINKER_FLAGS  "${CMAKE_EXE_LINKER_FLAGS} -v" )
include(CMake/includes.cmake)
include(CMake/gen_flatbuffers.cmake)
include(CMake/Seastar.cmake)
include(CMake/ccache.cmake)
include(CMake/base_flags.cmake)
include(CMake/join_function.cmake)
include(CMake/xxhash.cmake)
include(CMake/packaging.cmake)
message("CMAKE_BUILD_TYPE = ${CMAKE_BUILD_TYPE}")
enable_testing()
set(CXX_FLAG_LIST ${BASE_FLAGS} ${SEASTAR_CFLAGS})
join("${CXX_FLAG_LIST}" " " CMAKE_CXX_FLAGS)
add_subdirectory(${PROJECT_SOURCE_DIR}/src/histogram)
add_subdirectory(${PROJECT_SOURCE_DIR}/src/rpc)
add_subdirectory(${PROJECT_SOURCE_DIR}/src/raft)
add_subdirectory(${PROJECT_SOURCE_DIR}/src/chain_replication)
add_subdirectory(${PROJECT_SOURCE_DIR}/src/filesystem)
add_subdirectory(${PROJECT_SOURCE_DIR}/src/smfb)
add_subdirectory(${PROJECT_SOURCE_DIR}/src/test)
add_subdirectory(${PROJECT_SOURCE_DIR}/src/integration_tests)
